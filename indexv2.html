<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>GÃ©nÃ©rateur d'ApprÃ©ciations Professionnelles</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-p/1yxr7XK6T5+u3DkXJn2RoaXzlb+X2JpHfS2KfV/luzV9Y1UkXGmE1ps9G0K5g1QMf1BkXx5cC+PQX+U3qFHQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
</head>
<body>
  <div id="management-modal-overlay" class="modal-overlay no-export" style="display: none;">
    <div class="modal-content">
      <button class="modal-close-btn" onclick="closeAllModals()">Ã—</button>
      <div id="group-management-panel" style="display: none;">
        <h2>Gestion des Groupes</h2>
        <p class="modal-instructions">Modifiez le numÃ©ro de groupe pour chaque Ã©lÃ¨ve, puis sauvegardez.</p>
        <div id="group-editor" class="editor-area"></div>
        <button class="modal-save-btn" onclick="saveGroupsAndReload()">Sauvegarder les groupes et rafraÃ®chir</button>
      </div>
      <div id="criteria-management-panel" style="display: none;">
        <h2>Gestion des ApprÃ©ciations</h2>
        <p class="modal-instructions">Modifiez les phrases (une par ligne), puis sauvegardez. Les lignes vides seront ignorÃ©es.</p>
        <div id="criteria-editor" class="editor-area"></div>
        <button class="modal-save-btn" onclick="saveCriteriaAndReload()">Sauvegarder les apprÃ©ciations et rafraÃ®chir</button>
      </div>
    </div>
  </div>

  <div class="container" id="fiche">
    <header>
      <h1>ApprÃ©ciations en enseignement professionnel</h1>
      <p id="date"></p>
    </header>

    <div class="management-buttons no-export">
      <button onclick="openGroupManagement()"><i class="fas fa-users-cog"></i> GÃ©rer les groupes</button>
      <button onclick="openCriteriaManagement()"><i class="fas fa-edit"></i> GÃ©rer les apprÃ©ciations</button>
    </div>

    <div class="field" id="student-selector">
      <label>Ã‰lÃ¨ves</label>
      </div>

    <div id="appreciations"></div>

    <div class="cta no-export">
      <button id="progresser">ğŸ’ª Pour progresser</button>
    </div>

    <div id="improvements" class="improvements"></div>

    <div class="footer-section">
      <div class="signatures">
        <div>
          <label for="sig-parents">Signature des parents</label>
          <input type="text" id="sig-parents">
        </div>
        <div>
          <label for="sig-enseignant">Signature de lâ€™enseignant</label>
          <input type="text" id="sig-enseignant">
        </div>
      </div>
      <button id="export-pdf" class="export-btn no-export">Exporter en PDF</button>
      <p class="note no-export">
        Ce portail est un outil pour vous aider Ã  progresser. Nâ€™hÃ©sitez pas Ã  discuter de ces points avec votre enseignant.
      </p>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>